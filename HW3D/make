FLAGS ?= -O2
ifeq ($(origin CC), default)
	CC = g++
endif

all: triangles

triangles: main.cpp triangle.cpp handler.cpp
	$(CC) $(FLAGS) $^ -o $@

valgrind: ./triangles
	valgrind --leak-check=full --track-origins=yes ./cache

test: TEST.cpp LFU_Cache.cpp Perfect_Cache.cpp
	$(CC) $(FLAGS) $^ -o $@

clean:
	rm -f triangles test
